<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watermark Designer Pro - Kool D. Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=Cormorant+Garamond:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&family=Dm+Serif+Display&display=swap" rel="stylesheet">
    <style>
        :root {
            --deep-green: #3a5a40;
            --soft-gold: #eb9500;
            --cream: #f9f5f0;
            --gray: #666;
            --white: #fff;
            --charcoal: #2a2a2a;
            --font-body: "Montserrat", sans-serif;
            --font-heading: "Playfair Display", serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: var(--font-body); background: var(--cream); color: #333; }

        .page-title { text-align: center; padding: 40px 20px 20px; }
        .page-title h1 { font-family: var(--font-heading); font-size: 42px; color: var(--deep-green); margin-bottom: 8px; }
        .page-title p { font-size: 14px; color: var(--gray); }

        /* EDITOR SECTION */
        .editor-section { background: var(--white); padding: 30px 20px; border-bottom: 2px solid #f0f0f0; }
        .editor-container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: start; }
        .editor-panel { display: flex; flex-direction: column; gap: 15px; }
        .editor-panel h2 { font-family: var(--font-heading); font-size: 24px; color: var(--deep-green); margin: 0; }

        .form-group { display: flex; flex-direction: column; gap: 6px; }
        .form-group label { font-size: 11px; font-weight: 600; color: var(--deep-green); text-transform: uppercase; letter-spacing: 0.5px; }
        .form-group input, .form-group select { padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 13px; background: var(--white); }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: var(--soft-gold); box-shadow: 0 0 0 3px rgba(235, 149, 0, 0.1); }

        .slider-group { display: flex; flex-direction: column; gap: 6px; }
        .slider-group label { font-size: 11px; font-weight: 600; color: var(--deep-green); text-transform: uppercase; }
        .slider-wrapper { display: flex; gap: 10px; align-items: center; }
        input[type="range"] { flex: 1; height: 6px; border-radius: 3px; background: linear-gradient(90deg, var(--deep-green), var(--soft-gold)); outline: none; cursor: pointer; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; background: var(--soft-gold); cursor: pointer; border-radius: 50%; }
        input[type="range"]::-moz-range-thumb { width: 20px; height: 20px; background: var(--soft-gold); cursor: pointer; border-radius: 50%; border: none; }
        .slider-value { min-width: 35px; font-size: 12px; font-weight: 600; color: var(--deep-green); }

        .color-group { display: flex; gap: 8px; flex-wrap: wrap; }
        .color-btn { width: 36px; height: 36px; border: 2px solid #ddd; border-radius: 4px; cursor: pointer; transition: all 0.2s; }
        .color-btn:hover { transform: scale(1.1); }
        .color-btn.active { border-color: var(--deep-green); box-shadow: 0 0 0 2px var(--deep-green); }
        .color-green { background: var(--deep-green); }
        .color-gold { background: var(--soft-gold); }
        .color-white { background: var(--white); border-color: #999; }

        .font-group { display: flex; gap: 8px; flex-wrap: wrap; }
        .font-btn { padding: 8px 12px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; font-size: 12px; transition: all 0.2s; background: var(--white); }
        .font-btn:hover { background: #f5f5f5; }
        .font-btn.active { background: var(--deep-green); color: var(--white); border-color: var(--deep-green); }

        .button-group { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 10px; }
        .btn { flex: 1; min-width: 100px; padding: 10px 16px; border: none; border-radius: 4px; font-size: 12px; font-weight: 600; cursor: pointer; text-transform: uppercase; letter-spacing: 0.5px; transition: all 0.3s; }
        .btn-primary { background: var(--deep-green); color: var(--white); }
        .btn-primary:hover { background: #2a4430; transform: translateY(-2px); box-shadow: 0 6px 12px rgba(58, 90, 64, 0.3); }
        .btn-secondary { background: var(--soft-gold); color: var(--white); }
        .btn-secondary:hover { background: #d97e00; transform: translateY(-2px); box-shadow: 0 6px 12px rgba(235, 149, 0, 0.3); }
        .btn-copy { background: #4a90e2; color: var(--white); font-size: 11px; }
        .btn-copy:hover { background: #357abd; }
        .btn-star { background: #f39c12; color: var(--white); font-size: 11px; }

        .preview-panel { display: flex; flex-direction: column; gap: 12px; }
        .preview-panel h3 { font-family: var(--font-heading); font-size: 18px; color: var(--deep-green); margin: 0; }
        #watermarkPreview { width: 100%; aspect-ratio: 1; background: linear-gradient(135deg, #f5f1eb 0%, #ece8e1 100%); border: 1px solid #ddd; border-radius: 8px; display: flex; align-items: center; justify-content: center; overflow: hidden; box-shadow: 0 6px 24px rgba(58, 90, 64, 0.2); position: relative; }

        .loading-spinner { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000; }
        .spinner { border: 4px solid rgba(235, 149, 0, 0.2); border-top: 4px solid var(--soft-gold); border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* GALLERY SECTION */
        .gallery-section { padding: 40px 20px; }
        .gallery-container { max-width: 1400px; margin: 0 auto; }
        .gallery-title { text-align: center; margin-bottom: 30px; }
        .gallery-title h2 { font-family: var(--font-heading); font-size: 32px; color: var(--deep-green); margin-bottom: 8px; }

        .watermark-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; }
        .watermark-demo { cursor: pointer; transition: all 0.3s; }
        .watermark-demo:hover { transform: translateY(-4px); }
        .demo-title { font-size: 12px; font-weight: 600; color: var(--gray); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 10px; }
        .demo-frame { aspect-ratio: 1; background: linear-gradient(135deg, #f5f1eb 0%, #ece8e1 100%); border: 1px solid #ddd; border-radius: 8px; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 12px rgba(58, 90, 64, 0.1); }

        /* WATERMARK STYLES - All 40 styles */
        .watermark-style-1, .watermark-style-2, .watermark-style-3, .watermark-style-4, .watermark-style-5,
        .watermark-style-6, .watermark-style-7, .watermark-style-8, .watermark-style-9, .watermark-style-10 { display: flex; align-items: center; justify-content: center; }

        .watermark-style-1 { flex-direction: column; gap: 10px; }
        .watermark-style-1 .logo-text { font-family: var(--font-heading); font-size: 36px; font-weight: 600; color: var(--deep-green); }
        .watermark-style-1 .studio-name { font-size: 12px; font-weight: 600; color: var(--soft-gold); letter-spacing: 2px; text-transform: uppercase; }
        .watermark-style-1 .divider { width: 50px; height: 1px; background: linear-gradient(90deg, transparent, var(--soft-gold), transparent); }

        .watermark-style-2 { opacity: 0.3; transform: rotate(-45deg); }
        .watermark-style-2 .text { font-family: var(--font-heading); font-size: 56px; font-weight: 700; color: var(--deep-green); }

        .watermark-style-3 { position: absolute; bottom: 15px; right: 15px; flex-direction: column; align-items: flex-end; gap: 6px; opacity: 0.6; }
        .watermark-style-3 .name { font-family: var(--font-heading); font-size: 14px; font-weight: 600; color: var(--deep-green); }
        .watermark-style-3 .subtitle { font-size: 8px; font-weight: 600; color: var(--soft-gold); letter-spacing: 1px; text-transform: uppercase; }

        .watermark-style-4 { }
        .watermark-circle { width: 140px; height: 140px; border: 2px solid var(--soft-gold); border-radius: 50%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 4px; opacity: 0.65; }
        .watermark-circle .studio-text { font-family: var(--font-heading); font-size: 18px; font-weight: 600; color: var(--deep-green); text-align: center; line-height: 1.2; }
        .watermark-circle .studio-subtitle { font-size: 8px; color: var(--soft-gold); letter-spacing: 1px; text-transform: uppercase; }

        .watermark-style-5 { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); flex-direction: column; gap: 10px; opacity: 0.5; }
        .watermark-style-5 .text { font-family: var(--font-heading); font-size: 16px; font-weight: 700; color: var(--deep-green); writing-mode: vertical-rl; transform: rotate(180deg); letter-spacing: 2px; }
        .watermark-style-5 .dot { width: 6px; height: 6px; background: var(--soft-gold); border-radius: 50%; }

        .watermark-style-6 { position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(90deg, transparent, var(--soft-gold), transparent); height: 1px; }
        .watermark-style-6::before { content: "¬© Kool D. Studio"; position: absolute; bottom: 6px; font-size: 9px; color: var(--soft-gold); letter-spacing: 1px; opacity: 0.7; }

        .watermark-style-7 { position: absolute; bottom: 12px; left: 12px; flex-direction: column; align-items: flex-start; gap: 2px; opacity: 0.55; }
        .watermark-style-7 .brand { font-family: var(--font-heading); font-size: 12px; font-weight: 600; color: var(--deep-green); }
        .watermark-style-7 .tagline { font-size: 7px; color: var(--soft-gold); letter-spacing: 1px; text-transform: uppercase; }

        .watermark-style-8 { position: absolute; bottom: 25%; left: 50%; transform: translateX(-50%); flex-direction: column; gap: 10px; opacity: 0.4; width: 70%; }
        .watermark-style-8 .line { width: 30px; height: 1px; background: var(--soft-gold); }
        .watermark-style-8 .text { font-size: 10px; font-weight: 600; color: var(--deep-green); letter-spacing: 1px; text-transform: uppercase; }

        .watermark-style-9 { position: absolute; top: 15px; right: 15px; flex-direction: column; align-items: flex-end; gap: 5px; opacity: 0.5; }
        .watermark-style-9 .signature { font-family: "Playfair Display", serif; font-size: 20px; font-style: italic; color: var(--deep-green); }
        .watermark-style-9 .line { width: 40px; height: 1px; background: var(--soft-gold); }

        .watermark-style-10 { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); flex-direction: column; gap: 6px; opacity: 0.45; }
        .watermark-style-10 .geo-line { width: 1px; height: 20px; background: var(--soft-gold); }
        .watermark-style-10 .geo-text { font-family: var(--font-heading); font-size: 14px; font-weight: 600; color: var(--deep-green); letter-spacing: 1px; }

        /* Quick styles for remaining 11-40 */
        .watermark-style-11, .watermark-style-12, .watermark-style-13, .watermark-style-14, .watermark-style-15,
        .watermark-style-16, .watermark-style-17, .watermark-style-18, .watermark-style-19, .watermark-style-20,
        .watermark-style-21, .watermark-style-22, .watermark-style-23, .watermark-style-24, .watermark-style-25,
        .watermark-style-26, .watermark-style-27, .watermark-style-28, .watermark-style-29, .watermark-style-30,
        .watermark-style-31, .watermark-style-32, .watermark-style-33, .watermark-style-34, .watermark-style-35,
        .watermark-style-36, .watermark-style-37, .watermark-style-38, .watermark-style-39, .watermark-style-40 { display: flex; align-items: center; justify-content: center; flex-direction: column; opacity: 0.6; position: relative; }

        /* Individual styles 11-20 */
        .watermark-style-11 { }
        .watermark-style-11 .text { font-size: 18px; font-weight: 600; color: var(--deep-green); border: 2px solid var(--soft-gold); padding: 10px 15px; }

        .watermark-style-12 { gap: 6px; }
        .watermark-style-12 .dot { width: 4px; height: 4px; background: var(--soft-gold); border-radius: 50%; }
        .watermark-style-12 .text { font-size: 14px; font-weight: 600; color: var(--deep-green); }

        .watermark-style-13 { gap: 8px; }
        .watermark-style-13 .part1 { font-size: 24px; font-weight: 700; color: var(--soft-gold); }
        .watermark-style-13 .part2 { font-size: 20px; font-weight: 600; color: var(--deep-green); }

        .watermark-style-14 { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); flex-direction: row; gap: 8px; }
        .watermark-style-14 .accent { width: 2px; height: 30px; background: var(--soft-gold); }
        .watermark-style-14 .text { font-size: 11px; writing-mode: vertical-rl; transform: rotate(180deg); }

        .watermark-style-15 { border: 2px solid var(--deep-green); padding: 15px; border-radius: 2px; gap: 4px; }
        .watermark-style-15 .name { font-size: 16px; font-weight: 600; color: var(--deep-green); }
        .watermark-style-15 .tag { font-size: 8px; color: var(--soft-gold); letter-spacing: 1px; }

        .watermark-style-16 { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); gap: 3px; }
        .watermark-style-16 .brand { font-size: 14px; font-weight: 700; color: var(--deep-green); letter-spacing: 2px; }
        .watermark-style-16 .dot { width: 2px; height: 2px; background: var(--soft-gold); }

        .watermark-style-17 { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); gap: 6px; }
        .watermark-style-17 .wave { width: 50px; height: 1px; background: linear-gradient(90deg, transparent, var(--soft-gold), transparent); }
        .watermark-style-17 .text { font-size: 12px; font-weight: 600; color: var(--deep-green); }

        .watermark-style-18 { gap: 6px; }
        .watermark-style-18 .stripe { width: 60px; height: 2px; background: var(--soft-gold); }
        .watermark-style-18 .text { font-size: 18px; font-weight: 600; color: var(--deep-green); padding: 6px 0; }

        .watermark-style-19 { }
        .watermark-style-19 .diamond { width: 60px; height: 60px; border: 1px solid var(--soft-gold); transform: rotate(45deg); display: flex; align-items: center; justify-content: center; }
        .watermark-style-19 .text { font-size: 9px; transform: rotate(-45deg); color: var(--soft-gold); }

        .watermark-style-20 { gap: 4px; }
        .watermark-style-20 .ornament { font-size: 18px; color: var(--soft-gold); }
        .watermark-style-20 .text { font-size: 14px; font-weight: 600; color: var(--deep-green); }

        /* Styles 21-40 */
        .watermark-style-21 { gap: 6px; }
        .watermark-style-21 .text { font-family: "Cormorant Garamond", serif; font-size: 28px; font-weight: 600; color: var(--deep-green); }
        .watermark-style-21 .sub { font-size: 9px; color: var(--soft-gold); letter-spacing: 2px; text-transform: uppercase; }

        .watermark-style-22 { position: absolute; bottom: 15px; right: 15px; gap: 6px; }
        .watermark-style-22 .box { width: 50px; height: 2px; background: var(--soft-gold); }
        .watermark-style-22 .text { font-size: 12px; font-weight: 600; color: var(--deep-green); }

        .watermark-style-23 { position: absolute; bottom: 15px; left: 15px; }
        .watermark-style-23 .text { font-size: 9px; font-weight: 700; color: var(--deep-green); letter-spacing: 1px; }

        .watermark-style-24 { position: absolute; top: 20px; right: 20px; }
        .watermark-style-24 .text { font-family: "Dm Serif Display", serif; font-size: 24px; color: var(--deep-green); font-style: italic; }

        .watermark-style-25 { gap: 10px; }
        .watermark-style-25 .main { font-family: "Poppins", sans-serif; font-size: 24px; font-weight: 700; color: var(--deep-green); }
        .watermark-style-25 .dot { width: 3px; height: 3px; background: var(--soft-gold); }

        .watermark-style-26 { gap: 2px; }
        .watermark-style-26 .line { width: 40px; height: 1px; background: var(--soft-gold); }
        .watermark-style-26 .text { font-family: "Cormorant Garamond", serif; font-size: 16px; color: var(--deep-green); padding: 4px 0; }

        .watermark-style-27 { border: 1px solid var(--soft-gold); padding: 10px; gap: 3px; }
        .watermark-style-27 .text { font-size: 10px; font-weight: 600; color: var(--deep-green); }

        .watermark-style-28 { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); gap: 4px; }
        .watermark-style-28 .top-line { width: 80px; height: 1px; background: var(--soft-gold); }
        .watermark-style-28 .text { font-family: "Cormorant Garamond", serif; font-size: 14px; color: var(--deep-green); letter-spacing: 1px; text-transform: uppercase; }
        .watermark-style-28 .bottom-line { width: 80px; height: 1px; background: var(--soft-gold); }

        .watermark-style-29 { }
        .watermark-style-29 .text { font-family: "Poppins", sans-serif; font-size: 20px; font-weight: 800; color: var(--soft-gold); text-transform: uppercase; }

        .watermark-style-30 { gap: 4px; }
        .watermark-style-30 .brand { font-family: "Dm Serif Display", serif; font-size: 28px; color: var(--deep-green); font-weight: 400; }
        .watermark-style-30 .year { font-size: 7px; color: var(--soft-gold); letter-spacing: 1px; }

        .watermark-style-31 { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); flex-direction: row; gap: 8px; }
        .watermark-style-31 .accent { width: 2px; height: 40px; background: var(--soft-gold); }
        .watermark-style-31 .text { font-size: 12px; font-weight: 600; color: var(--deep-green); }

        .watermark-style-32 { gap: 6px; }
        .watermark-style-32 .deco { font-size: 20px; color: var(--soft-gold); }
        .watermark-style-32 .text { font-family: "Cormorant Garamond", serif; font-size: 18px; font-weight: 600; color: var(--deep-green); }

        .watermark-style-33 { border: 2px solid var(--soft-gold); border-radius: 25px; padding: 12px 20px; }
        .watermark-style-33 .text { font-size: 12px; font-weight: 600; color: var(--deep-green); }

        .watermark-style-34 { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); gap: 0; }
        .watermark-style-34 .line1 { font-family: "Dm Serif Display", serif; font-size: 14px; color: var(--deep-green); letter-spacing: 1px; }
        .watermark-style-34 .line2 { font-size: 8px; color: var(--soft-gold); letter-spacing: 2px; text-transform: uppercase; }

        .watermark-style-35 { gap: 6px; }
        .watermark-style-35 .text { font-family: "Poppins", sans-serif; font-size: 22px; font-weight: 700; color: var(--deep-green); }
        .watermark-style-35 .line { width: 60px; height: 2px; background: var(--soft-gold); }

        .watermark-style-36 { position: absolute; top: 15px; left: 50%; transform: translateX(-50%); gap: 3px; }
        .watermark-style-36 .badge { font-family: "Cormorant Garamond", serif; font-size: 22px; font-weight: 600; color: var(--deep-green); }
        .watermark-style-36 .subtitle { font-size: 8px; color: var(--soft-gold); letter-spacing: 1px; text-transform: uppercase; }

        .watermark-style-37 { position: absolute; bottom: 12px; left: 12px; align-items: flex-start; gap: 2px; }
        .watermark-style-37 .text { font-family: "Dm Serif Display", serif; font-size: 12px; color: var(--deep-green); }
        .watermark-style-37 .accent-line { width: 30px; height: 1px; background: var(--soft-gold); }

        .watermark-style-38 { gap: 8px; }
        .watermark-style-38 .main { font-family: "Poppins", sans-serif; font-size: 24px; font-weight: 700; color: var(--soft-gold); }
        .watermark-style-38 .sub { font-size: 8px; color: var(--deep-green); letter-spacing: 1px; text-transform: uppercase; }

        .watermark-style-39 { gap: 4px; }
        .watermark-style-39 .text { font-family: "Cormorant Garamond", serif; font-size: 24px; font-weight: 600; color: var(--deep-green); }
        .watermark-style-39 .accent { width: 50px; height: 1px; background: var(--soft-gold); }

        .watermark-style-40 { position: absolute; right: 15px; bottom: 15px; align-items: flex-end; gap: 2px; }
        .watermark-style-40 .brand { font-family: "Dm Serif Display", serif; font-size: 16px; color: var(--deep-green); font-weight: 400; }
        .watermark-style-40 .tagline { font-size: 7px; color: var(--soft-gold); letter-spacing: 1px; text-transform: uppercase; }

        @media (max-width: 1024px) { .editor-container { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { .page-title h1 { font-size: 28px; } .gallery-title h2 { font-size: 24px; } .watermark-container { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); } }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>
<body>
    <!-- PAGE TITLE -->
    <div class="page-title">
        <h1>‚≠ê Watermark Designer Pro</h1>
        <p>T·∫°o & t·∫£i xu·ªëng watermark PNG trong su·ªët</p>
    </div>

    <!-- EDITOR SECTION -->
    <section class="editor-section">
        <div class="editor-container">
            <div class="editor-panel">
                <h2>‚úèÔ∏è Ch·ªânh s·ª≠a</h2>
                
                <div class="form-group">
                    <label>Style (40 l·ª±a ch·ªçn)</label>
                    <select id="styleSelect">
                        <option value="1">01: Center Elegant</option>
                        <option value="2">02: Diagonal</option>
                        <option value="3">03: Corner</option>
                        <option value="4">04: Circle</option>
                        <option value="5">05: Minimal</option>
                        <option value="6">06: Banner</option>
                        <option value="7">07: Text</option>
                        <option value="8">08: Divider</option>
                        <option value="9">09: Signature</option>
                        <option value="10">10: Geometric</option>
                        <option value="11">11: Premium</option>
                        <option value="12">12: Abstract</option>
                        <option value="13">13: Split</option>
                        <option value="14">14: Vertical</option>
                        <option value="15">15: Classic</option>
                        <option value="16">16: Modern</option>
                        <option value="17">17: Wave</option>
                        <option value="18">18: Stripe</option>
                        <option value="19">19: Diamond</option>
                        <option value="20">20: Ornament</option>
                        <option value="21">21: Serif</option>
                        <option value="22">22: Geo</option>
                        <option value="23">23: Ultra</option>
                        <option value="24">24: Flowing</option>
                        <option value="25">25: Bold</option>
                        <option value="26">26: Double</option>
                        <option value="27">27: Badge</option>
                        <option value="28">28: Vintage</option>
                        <option value="29">29: Modern Bold</option>
                        <option value="30">30: Display</option>
                        <option value="31">31: Side</option>
                        <option value="32">32: Deco</option>
                        <option value="33">33: Rounded</option>
                        <option value="34">34: Artistic</option>
                        <option value="35">35: Underline</option>
                        <option value="36">36: Badge Top</option>
                        <option value="37">37: Corner</option>
                        <option value="38">38: Modern</option>
                        <option value="39">39: Serif 2</option>
                        <option value="40">40: Premium 2</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>D√≤ng 1 (Main)</label>
                    <input type="text" id="line1Input" placeholder="Kool D." value="Kool D.">
                </div>
                <div class="form-group">
                    <label>D√≤ng 2 (Sub)</label>
                    <input type="text" id="line2Input" placeholder="Studio" value="Studio">
                </div>
                <div class="form-group">
                    <label>D√≤ng 3 (Optional)</label>
                    <input type="text" id="line3Input" placeholder="Est. 2025" value="Est. 2025">
                </div>

                <div class="slider-group">
                    <label>Opacity (ƒë·ªô m·ªù)</label>
                    <div class="slider-wrapper">
                        <input type="range" id="opacitySlider" min="0" max="100" value="60">
                        <span class="slider-value" id="opacityValue">60%</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>M√†u s·∫Øc</label>
                    <div class="color-group">
                        <button class="color-btn color-green active" onclick="setTextColor('var(--deep-green)')" title="Deep Green"></button>
                        <button class="color-btn color-gold" onclick="setTextColor('var(--soft-gold)')" title="Soft Gold"></button>
                        <button class="color-btn color-white" onclick="setTextColor('var(--white)')" title="White"></button>
                        <input type="color" id="customColor" style="width:36px; height:36px; border:2px solid #ddd; border-radius:4px; cursor:pointer;" title="Custom">
                    </div>
                </div>

                <div class="form-group">
                    <label>Font</label>
                    <div class="font-group">
                        <button class="font-btn active" onclick="setFont('Playfair')">Playfair</button>
                        <button class="font-btn" onclick="setFont('Montserrat')">Montserrat</button>
                        <button class="font-btn" onclick="setFont('Cormorant')">Cormorant</button>
                        <button class="font-btn" onclick="setFont('Poppins')">Poppins</button>
                        <button class="font-btn" onclick="setFont('DmSerif')">DmSerif</button>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="downloadWatermark()">‚¨áÔ∏è T·∫£i PNG</button>
                    <button class="btn btn-secondary" onclick="resetPreview()">‚Ü∫ Reset</button>
                </div>

                <div class="button-group">
                    <button class="btn btn-copy" onclick="copyWatermarkConfig()">üìã Copy Config</button>
                    <button class="btn btn-star" onclick="saveFavorite()">‚≠ê L∆∞u</button>
                </div>

                <div id="favoritesSection" style="margin-top:15px; border-top:1px solid #eee; padding-top:10px; display:none;">
                    <label style="font-size:11px; font-weight:600; text-transform:uppercase;">ƒê√£ l∆∞u</label>
                    <div id="favoritesList" style="display:flex; flex-direction:column; gap:5px;"></div>
                </div>
            </div>

            <div class="preview-panel">
                <h3>üëÅÔ∏è Xem tr∆∞·ªõc</h3>
                <div id="watermarkPreview"></div>
            </div>
        </div>
    </section>

    <!-- GALLERY SECTION -->
    <section class="gallery-section">
        <div class="gallery-container">
            <div class="gallery-title">
                <h2>üé® T·∫•t c·∫£ 40 Style</h2>
            </div>
            <div class="watermark-container" id="galleryContainer"></div>
        </div>
    </section>

    <script>
        let currentColor = 'var(--deep-green)';
        let currentFont = 'Playfair';
        let favorites = JSON.parse(localStorage.getItem('watermarkFavorites')) || [];

        const allStyles = Array.from({length: 40}, (_, i) => i + 1);
        
        const watermarkTemplates = {
            1: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-1" style="color:${c}; font-family:${getFontFamily(f)}"><div class="logo-text">${l1}</div><div class="divider"></div><div class="studio-name">${l2}</div></div>` },
            2: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-2"><div class="text" style="color:${c}; font-family:${getFontFamily(f)}">${l1} ${l2}</div></div>` },
            3: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-3" style="color:${c}; font-family:${getFontFamily(f)}"><div class="mark"><div class="name">${l1}</div><div class="subtitle">${l2}</div></div></div>` },
            4: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-4"><div class="watermark-circle" style="color:${c}; font-family:${getFontFamily(f)}"><div class="studio-text">${l1}<br>${l2}</div></div></div>` },
            5: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-5" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${(l1+' '+l2).toUpperCase()}</div></div>` },
            6: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-6"></div>` },
            7: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-7" style="color:${c}; font-family:${getFontFamily(f)}"><div class="brand">${l1}</div><div class="tagline">${l2}</div></div>` },
            8: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-8" style="color:${c}; font-family:${getFontFamily(f)}"><div class="line"></div><div class="text">${l2}</div><div class="line"></div></div>` },
            9: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-9" style="color:${c}; font-family:${getFontFamily(f)}"><div class="signature">${l1}</div><div class="line"></div></div>` },
            10: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-10" style="color:${c}; font-family:${getFontFamily(f)}"><div class="geo-line"></div><div class="geo-text">${l2}</div><div class="geo-line"></div></div>` },
            11: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-11" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1} ${l2}</div></div>` },
            12: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-12" style="color:${c}; font-family:${getFontFamily(f)}"><div class="dot"></div><div class="text">${l1}</div><div class="dot"></div></div>` },
            13: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-13" style="color:${c}; font-family:${getFontFamily(f)}"><div class="part1">${l1}</div><div class="part2">${l2}</div></div>` },
            14: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-14" style="color:${c}; font-family:${getFontFamily(f)}"><div class="accent"></div><div class="text">${l1}</div></div>` },
            15: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-15" style="color:${c}; font-family:${getFontFamily(f)}"><div class="name">${l1}</div><div class="tag">${l3}</div></div>` },
            16: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-16" style="color:${c}; font-family:${getFontFamily(f)}"><div class="brand">${l1}</div><div class="dot"></div><div class="dot"></div></div>` },
            17: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-17" style="color:${c}; font-family:${getFontFamily(f)}"><div class="wave"></div><div class="text">${l2}</div><div class="wave"></div></div>` },
            18: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-18" style="color:${c}; font-family:${getFontFamily(f)}"><div class="stripe"></div><div class="text">${l1}</div><div class="stripe"></div></div>` },
            19: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-19" style="color:${c}; font-family:${getFontFamily(f)}"><div class="diamond"><div class="text">${l1.substring(0,1)}</div></div></div>` },
            20: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-20" style="color:${c}; font-family:${getFontFamily(f)}"><div class="ornament">‚ú¶</div><div class="text">${l1}</div><div class="ornament">‚ú¶</div></div>` },
            21: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-21" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1} ${l2}</div><div class="sub">${l3}</div></div>` },
            22: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-22" style="color:${c}; font-family:${getFontFamily(f)}"><div class="box"></div><div class="text">${l1}</div></div>` },
            23: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-23" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1.toUpperCase()}</div></div>` },
            24: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-24" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div></div>` },
            25: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-25" style="color:${c}; font-family:${getFontFamily(f)}"><div class="main">${(l1+' '+l2).toUpperCase()}</div><div class="dot"></div></div>` },
            26: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-26" style="color:${c}; font-family:${getFontFamily(f)}"><div class="line"></div><div class="text">${l1}</div><div class="line"></div></div>` },
            27: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-27" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1} ${l2}</div></div>` },
            28: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-28" style="color:${c}; font-family:${getFontFamily(f)}"><div class="top-line"></div><div class="text">${l1.toUpperCase()}</div><div class="bottom-line"></div></div>` },
            29: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-29" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div></div>` },
            30: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-30" style="color:${c}; font-family:${getFontFamily(f)}"><div class="brand">${l1}</div><div class="year">${l3}</div></div>` },
            31: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-31" style="color:${c}; font-family:${getFontFamily(f)}"><div class="accent"></div><div class="text">${l1}</div></div>` },
            32: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-32" style="color:${c}; font-family:${getFontFamily(f)}"><div class="deco">‚ùÅ</div><div class="text">${l1}</div><div class="deco">‚ùÅ</div></div>` },
            33: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-33" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div></div>` },
            34: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-34" style="color:${c}; font-family:${getFontFamily(f)}"><div class="line1">${l1}</div><div class="line2">${l3}</div></div>` },
            35: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-35" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1} ${l2}</div><div class="line"></div></div>` },
            36: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-36" style="color:${c}; font-family:${getFontFamily(f)}"><div class="badge">${l1}</div><div class="subtitle">${l3}</div></div>` },
            37: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-37" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div><div class="accent-line"></div></div>` },
            38: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-38" style="color:${c}; font-family:${getFontFamily(f)}"><div class="main">${l1} ${l2}</div><div class="sub">${l3}</div></div>` },
            39: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-39" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div><div class="accent"></div></div>` },
            40: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-40" style="color:${c}; font-family:${getFontFamily(f)}"><div class="brand">${l1}</div><div class="tagline">${l3}</div></div>` }
        };

        function getFontFamily(f) {
            const fonts = {
                'Playfair': "'Playfair Display', serif",
                'Montserrat': "'Montserrat', sans-serif",
                'Cormorant': "'Cormorant Garamond', serif",
                'Poppins': "'Poppins', sans-serif",
                'DmSerif': "'Dm Serif Display', serif"
            };
            return fonts[f] || fonts['Playfair'];
        }

        function setTextColor(c) {
            currentColor = c;
            document.querySelectorAll('.color-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            updatePreview();
        }

        function setFont(f) {
            currentFont = f;
            document.querySelectorAll('.font-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            updatePreview();
        }

        function updatePreview() {
            const styleId = document.getElementById('styleSelect').value;
            const l1 = document.getElementById('line1Input').value || 'Kool D.';
            const l2 = document.getElementById('line2Input').value || 'Studio';
            const l3 = document.getElementById('line3Input').value || 'Est. 2025';
            const opacity = document.getElementById('opacitySlider').value / 100;

            const template = watermarkTemplates[styleId];
            if (!template) return;

            const preview = document.getElementById('watermarkPreview');
            preview.innerHTML = template.html(l1, l2, l3, currentColor, currentFont);
            preview.style.opacity = opacity;
        }

        function resetPreview() {
            document.getElementById('line1Input').value = 'Kool D.';
            document.getElementById('line2Input').value = 'Studio';
            document.getElementById('line3Input').value = 'Est. 2025';
            document.getElementById('opacitySlider').value = 60;
            document.getElementById('opacityValue').textContent = '60%';
            currentColor = 'var(--deep-green)';
            currentFont = 'Playfair';
            document.querySelectorAll('.color-btn')[0].click();
            document.querySelectorAll('.font-btn')[0].click();
            updatePreview();
        }

        async function downloadWatermark() {
            const styleId = document.getElementById('styleSelect').value;
            const l1 = document.getElementById('line1Input').value || 'Kool D.';
            const l2 = document.getElementById('line2Input').value || 'Studio';
            const l3 = document.getElementById('line3Input').value || 'Est. 2025';

            const template = watermarkTemplates[styleId];
            if (!template) return;

            showLoading(true);

            const tempContainer = document.createElement('div');
            tempContainer.style.cssText = 'width:400px;height:400px;background:transparent;position:fixed;left:-9999px;display:flex;align-items:center;justify-content:center;padding:40px;opacity:' + (document.getElementById('opacitySlider').value/100) + ';';
            tempContainer.innerHTML = template.html(l1, l2, l3, currentColor, currentFont);
            document.body.appendChild(tempContainer);

            try {
                const canvas = await html2canvas(tempContainer, { backgroundColor: null, scale: 3, useCORS: true, logging: false });
                canvas.toBlob(blob => {
                    const ts = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);
                    saveAs(blob, `watermark-${ts}.png`);
                    showLoading(false);
                });
            } catch (error) {
                alert('L·ªói: ' + error.message);
                showLoading(false);
            } finally {
                document.body.removeChild(tempContainer);
            }
        }

        function copyWatermarkConfig() {
            const config = JSON.stringify({
                style: document.getElementById('styleSelect').value,
                line1: document.getElementById('line1Input').value,
                line2: document.getElementById('line2Input').value,
                line3: document.getElementById('line3Input').value,
                opacity: document.getElementById('opacitySlider').value,
                color: currentColor,
                font: currentFont
            });
            navigator.clipboard.writeText(config).then(() => alert('‚úÖ Copied!'));
        }

        function saveFavorite() {
            const fav = {
                style: document.getElementById('styleSelect').value,
                line1: document.getElementById('line1Input').value,
                line2: document.getElementById('line2Input').value,
                line3: document.getElementById('line3Input').value,
                opacity: document.getElementById('opacitySlider').value,
                color: currentColor,
                font: currentFont,
                id: Date.now()
            };
            favorites.unshift(fav);
            if (favorites.length > 5) favorites.pop();
            localStorage.setItem('watermarkFavorites', JSON.stringify(favorites));
            renderFavorites();
        }

        function renderFavorites() {
            const list = document.getElementById('favoritesList');
            const section = document.getElementById('favoritesSection');
            if (favorites.length === 0) {
                section.style.display = 'none';
                return;
            }
            section.style.display = 'block';
            list.innerHTML = favorites.map(fav => `
                <button style="padding:8px; border:1px solid #ddd; border-radius:4px; cursor:pointer; text-align:left; background:#f9f9f9; font-size:11px;" onclick="loadFavorite(${fav.id})">
                    Style ${fav.style} - ${fav.line1} / ${fav.line2} <span style="float:right;cursor:pointer;" onclick="deleteFavorite(${fav.id}); event.stopPropagation();">‚úï</span>
                </button>
            `).join('');
        }

        function loadFavorite(id) {
            const fav = favorites.find(f => f.id === id);
            if (!fav) return;
            document.getElementById('styleSelect').value = fav.style;
            document.getElementById('line1Input').value = fav.line1;
            document.getElementById('line2Input').value = fav.line2;
            document.getElementById('line3Input').value = fav.line3;
            document.getElementById('opacitySlider').value = fav.opacity;
            document.getElementById('opacityValue').textContent = fav.opacity + '%';
            currentColor = fav.color;
            currentFont = fav.font;
            updatePreview();
        }

        function deleteFavorite(id) {
            favorites = favorites.filter(f => f.id !== id);
            localStorage.setItem('watermarkFavorites', JSON.stringify(favorites));
            renderFavorites();
        }

        function showLoading(show) {
            let spinner = document.querySelector('.loading-spinner');
            if (show && !spinner) {
                spinner = document.createElement('div');
                spinner.className = 'loading-spinner';
                spinner.innerHTML = '<div class="spinner"></div>';
                document.body.appendChild(spinner);
            } else if (!show && spinner) {
                spinner.remove();
            }
        }

        function buildGallery() {
            const container = document.getElementById('galleryContainer');
            const styleNames = [
                'Classic', 'Modern', 'Elegant', 'Bold', 'Minimal', 'Artistic', 'Luxury', 'Fresh', 'Vintage', 'Professional',
                'Glamour', 'Soft', 'Vibrant', 'Minimalist', 'Ornate', 'Simple', 'Romantic', 'Modern Pro', 'Artistic Chic', 'Studio',
                'Serif', 'Corner', 'Bottom', 'Italic', 'Modern Gold', 'Decorative', 'Classic Frame', 'Center', 'Bold Text', 'Premium',
                'Side Accent', 'Floral', 'Oval Badge', 'Subtitle', 'Modern Plus', 'Top Badge', 'Side Text', 'Gold Mark', 'Elegant Plus', 'Heritage'
            ];
            const allStyles = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40];
            
            allStyles.forEach(i => {
                const div = document.createElement('div');
                div.className = 'watermark-demo';
                
                let watermarkHTML = '';
                if (watermarkTemplates[i]) {
                    watermarkHTML = watermarkTemplates[i].html('Kool D', 'Studio', 'Est. 2025', 'var(--deep-green)', 'Playfair');
                } else {
                    watermarkHTML = `<div class="watermark-style-${i}" style="color:var(--deep-green);"><div style="font-size:14px;font-weight:600;">Style ${i}</div></div>`;
                }
                
                div.innerHTML = `
                    <div class="demo-title">${String(i).padStart(2, '0')}. ${styleNames[i-1]}</div>
                    <div class="demo-frame" onclick="document.getElementById('styleSelect').value = '${i}'; updatePreview(); document.querySelector('.editor-section').scrollIntoView({behavior:'smooth'});">
                        ${watermarkHTML}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        document.getElementById('styleSelect').addEventListener('change', updatePreview);
        document.getElementById('line1Input').addEventListener('input', updatePreview);
        document.getElementById('line2Input').addEventListener('input', updatePreview);
        document.getElementById('line3Input').addEventListener('input', updatePreview);
        document.getElementById('opacitySlider').addEventListener('input', (e) => {
            document.getElementById('opacityValue').textContent = e.target.value + '%';
            updatePreview();
        });
        document.getElementById('customColor').addEventListener('change', (e) => {
            currentColor = e.target.value;
            updatePreview();
        });

        window.addEventListener('DOMContentLoaded', () => {
            updatePreview();
            buildGallery();
            renderFavorites();
        });
    </script>
</body>
</html>
