<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio - Kool D. Studio | Ảnh Cưới Hàn Quốc & Gia Đình</title>
  <meta name="description" content="Portfolio ảnh cưới phong cách Hàn Quốc tinh tế, gia đình, makeup & phóng sự tại Kool D. Studio"/>
  
  <!-- Open Graph Meta Tags for Social Media Share -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Portfolio - Kool D. Studio" />
  <meta property="og:description" content="Portfolio ảnh cưới phong cách Hàn Quốc tinh tế, gia đình, makeup & phóng sự tại Kool D. Studio" />
  <meta property="og:url" content="https://kooldark.github.io/KoolDStudio/portfolio.html" />
  <meta property="og:image" content="https://kooldark.github.io/KoolDStudio/assets/img/portfolio/makeup/Beauty/1.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Portfolio - Kool D. Studio" />
  <meta name="twitter:description" content="Portfolio ảnh cưới phong cách Hàn Quốc tinh tế, gia đình, makeup & phóng sự tại Kool D. Studio" />
  <meta name="twitter:image" content="https://kooldark.github.io/KoolDStudio/assets/img/portfolio/makeup/Beauty/1.jpg" />

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css">
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/responsive.css">

  <script>
    // Pre-generate meta tags for social media crawlers (they don't execute JS)
    (function() {
      const urlParams = new URLSearchParams(window.location.search);
      const category = urlParams.get('category');
      const album = urlParams.get('album');
      
      if (category && album) {
        const decodedAlbum = decodeURIComponent(album);
        const categoryVn = {
          'cuoi': 'Ảnh Cưới',
          'makeup': 'Makeup',
          'gia-dinh': 'Gia Đình',
          'phong-su': 'Phóng Sự'
        }[category] || category;
        
        // Fetch images list to get real file names
        fetch('assets/img/portfolio/images-list.json?t=' + Date.now())
          .then(res => res.json())
          .then(data => {
            const categoryData = data[category];
            if (categoryData && categoryData[decodedAlbum]) {
              const firstFile = categoryData[decodedAlbum][0];
              const imageUrl = `https://kooldark.github.io/KoolDStudio/assets/img/portfolio/${category}/${decodedAlbum}/${firstFile}`;
              
              // Update meta tags
              const metaTags = {
                'og:title': `${decodedAlbum} - ${categoryVn} | Kool D. Studio`,
                'og:description': `Album ${decodedAlbum} từ bộ sưu tập ${categoryVn} của Kool D. Studio. Ảnh cưới & gia đình phong cách Hàn Quốc.`,
                'og:image': imageUrl,
                'og:url': window.location.href,
                'twitter:title': `${decodedAlbum} - ${categoryVn} | Kool D. Studio`,
                'twitter:description': `Album ${decodedAlbum} từ bộ sưu tập ${categoryVn} của Kool D. Studio`,
                'twitter:image': imageUrl
              };
              
              Object.entries(metaTags).forEach(([property, content]) => {
                let meta = document.querySelector(`meta[property="${property}"], meta[name="${property}"]`);
                if (!meta) {
                  meta = document.createElement('meta');
                  const attrName = property.startsWith('og:') ? 'property' : 'name';
                  meta.setAttribute(attrName, property);
                  document.head.appendChild(meta);
                }
                meta.setAttribute('content', content);
              });
            }
          })
          .catch(err => console.error('Could not update meta tags:', err));
      }
    })();
  </script>
<body>

<div id="preloader"><div class="spinner"></div></div>

<nav id="navbar">
  <div class="nav-container">
    <a href="index.html" class="logo">KOOL D. STUDIO</a>
    <div class="nav-links" id="nav-links">
      <a href="index.html">Trang chủ</a>
      <a href="portfolio.html">Portfolio</a>
      <a href="pricing.html">Bảng giá</a>
      <a href="about.html">About</a>
    </div>
    <div class="menu-toggle" id="mobile-menu">☰</div>
  </div>
</nav>

<div class="container">
  <div class="page-header">
    <h1 class="page-title" data-aos="fade-down">Portfolio</h1>
    <p class="page-subtitle" data-aos="fade-up" data-aos-delay="100">
      Những khoảnh khắc tự nhiên của Kool D. Studio 
    </p>
    <div class="gold-line" data-aos="zoom-in" data-aos-delay="200"></div>
  </div>

  <!-- Filter Buttons -->
  <div class="filters-wrapper">
    <button id="back-button" class="back-button hidden" data-aos="fade-right">&larr; Quay lại</button>
    <div id="portfolio-filters" data-aos="fade-up"></div>
  </div>

  <!-- TỰ ĐỘNG TẢI TẤT CẢ ALBUM TỪ THƯ MỤC -->
  <div id="auto-gallery"></div>

  <div style="text-align:center;">
    <a href="index.html" class="back-home-btn">← Quay lại Trang chủ</a>
  </div>
</div>

<!-- Scripts -->
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="assets/js/auto-gallery.js"></script>

<!-- Swiper Lightbox -->
<div id="lightbox" class="swiper-lightbox" style="display:none;">
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <!-- Slides will be injected here -->
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
        
        <!-- Add Navigation -->
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
    </div>
    <span id="lightbox-close">&times;</span>
</div>

<script>
  // AOS + Mobile menu
  AOS.init({duration: 800, once: true, offset: 50});
  const mobileMenu = document.getElementById('mobile-menu');
  const navLinks = document.getElementById('nav-links');
  mobileMenu.onclick = (e) => { e.stopPropagation(); navLinks.classList.toggle('active'); };
  document.addEventListener('click', (e) => {
    if (navLinks.classList.contains('active') && !navLinks.contains(e.target) && e.target !== mobileMenu) {
      navLinks.classList.remove('active');
    }
  });
</script>
</body>
</html>