
const watermarkTemplates = {
    1: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-1" style="color:${c}; font-family:${getFontFamily(f)}"><div class="logo-text">${l1}</div><div class="divider"></div><div class="studio-name">${l2}</div><div class="year-text">${l3}</div></div>` },
    2: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-2"><div class="text" style="color:${c}; font-family:${getFontFamily(f)}">${l1} ${l2}</div></div>` },
    3: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-3" style="color:${c}; font-family:${getFontFamily(f)}"><div class="mark"><div class="name">${l1}</div><div class="subtitle">${l2}</div></div></div>` },
    4: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-4"><div class="watermark-circle" style="color:${c}; font-family:${getFontFamily(f)}"><div class="studio-text">${l1}</div><div class="studio-subtitle">${l2}</div><div class="studio-year">${l3}</div></div></div>` },
    5: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-5" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${(l1+' '+l2).toUpperCase()}</div></div>` },
    6: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-6"></div>` },
    7: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-7" style="color:${c}; font-family:${getFontFamily(f)}"><div class="brand">${l1}</div><div class="tagline">${l2}</div></div>` },
    8: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-8" style="color:${c}; font-family:${getFontFamily(f)}"><div class="line"></div><div class="text">${l2}</div><div class="line"></div></div>` },
    9: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-9" style="color:${c}; font-family:${getFontFamily(f)}"><div class="signature">${l1}</div><div class="line"></div></div>` },
    10: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-10" style="color:${c}; font-family:${getFontFamily(f)}"><div class="geo-line"></div><div class="geo-text">${l2}</div><div class="geo-line"></div></div>` },
    11: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-11" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1} ${l2}</div></div>` },
    12: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-12" style="color:${c}; font-family:${getFontFamily(f)}"><div class="dot"></div><div class="text">${l1}</div><div class="dot"></div></div>` },
    13: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-13" style="color:${c}; font-family:${getFontFamily(f)}"><div class="part1">${l1}</div><div class="part2">${l2}</div></div>` },
    14: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-14" style="color:${c}; font-family:${getFontFamily(f)}"><div class="accent"></div><div class="text">${l1}</div></div>` },
    15: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-15" style="color:${c}; font-family:${getFontFamily(f)}"><div class="name">${l1}</div><div class="tag">${l3}</div></div>` },
    16: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-16" style="color:${c}; font-family:${getFontFamily(f)}"><div class="brand">${l1}</div><div class="dot"></div><div class="dot"></div></div>` },
    17: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-17" style="color:${c}; font-family:${getFontFamily(f)}"><div class="wave"></div><div class="text">${l2}</div><div class="wave"></div></div>` },
    18: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-18" style="color:${c}; font-family:${getFontFamily(f)}"><div class="stripe"></div><div class="text">${l1}</div><div class="stripe"></div></div>` },
    19: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-19" style="color:${c}; font-family:${getFontFamily(f)}"><div class="diamond"><div class="text">${l1.substring(0,1)}</div></div></div>` },
    20: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-20" style="color:${c}; font-family:${getFontFamily(f)}"><div class="ornament">✦</div><div class="text">${l1}</div><div class="ornament">✦</div></div>` },
    21: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-21" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1} ${l2}</div><div class="sub">${l3}</div></div>` },
    22: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-22" style="color:${c}; font-family:${getFontFamily(f)}"><div class="box"></div><div class="text">${l1}</div></div>` },
    23: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-23" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1.toUpperCase()}</div></div>` },
    24: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-24" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div></div>` },
    25: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-25" style="color:${c}; font-family:${getFontFamily(f)}"><div class="main">${(l1+' '+l2).toUpperCase()}</div><div class="dot"></div></div>` },
    26: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-26" style="color:${c}; font-family:${getFontFamily(f)}"><div class="line"></div><div class="text">${l1}</div><div class="line"></div></div>` },
    27: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-27" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1} ${l2}</div></div>` },
    28: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-28" style="color:${c}; font-family:${getFontFamily(f)}"><div class="top-line"></div><div class="text">${l1.toUpperCase()}</div><div class="bottom-line"></div></div>` },
    29: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-29" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div></div>` },
    30: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-30" style="color:${c}; font-family:${getFontFamily(f)}"><div class="brand">${l1}</div><div class="year">${l3}</div></div>` },
    31: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-31" style="color:${c}; font-family:${getFontFamily(f)}"><div class="accent"></div><div class="text">${l1}</div></div>` },
    32: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-32" style="color:${c}; font-family:${getFontFamily(f)}"><div class="deco">❁</div><div class="text">${l1}</div><div class="deco">❁</div></div>` },
    33: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-33" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div></div>` },
    34: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-34" style="color:${c}; font-family:${getFontFamily(f)}"><div class="line1">${l1}</div><div class="line2">${l3}</div></div>` },
    35: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-35" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1} ${l2}</div><div class="line"></div></div>` },
    36: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-36" style="color:${c}; font-family:${getFontFamily(f)}"><div class="badge">${l1}</div><div class="subtitle">${l3}</div></div>` },
    37: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-37" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div><div class="accent-line"></div></div>` },
    38: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-38" style="color:${c}; font-family:${getFontFamily(f)}"><div class="main">${l1} ${l2}</div><div class="sub">${l3}</div></div>` },
    39: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-39" style="color:${c}; font-family:${getFontFamily(f)}"><div class="text">${l1}</div><div class="accent"></div></div>` },
    40: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-40" style="color:${c}; font-family:${getFontFamily(f)}"><div class="brand">${l1}</div><div class="tagline">${l3}</div></div>` },
    41: { html: (l1, l2, l3, c, f) => `<div class="watermark-style-41" style="color:${c}; font-family:${getFontFamily(f)}"><div class="line-2-top">${l2}</div><div class="line-1-main">${l1}</div><div class="line-3-bottom">${l3}</div></div>` }
};

const colorPalettes = {
    elegant: { name: 'Elegant', primary: '#1a1a1a', secondary: '#d4af37', tertiary: '#f5f5f5' },
    noir: { name: 'Noir', primary: '#1f1f1f', secondary: '#e8dcc8', tertiary: '#fef9f3' },
    luxury: { name: 'Luxury', primary: '#1a1a1a', secondary: '#c9a961', tertiary: '#f4f1e8' },
    vintage: { name: 'Vintage', primary: '#5d4e37', secondary: '#d9b894', tertiary: '#fdf6f1' },
    modern: { name: 'Modern', primary: '#2d3748', secondary: '#718096', tertiary: '#edf2f7' }
};

const fontLibrary = [
    { name: 'Playfair Display', key: 'Playfair', category: 'Serif' },
    { name: 'Cormorant Garamond', key: 'Cormorant', category: 'Serif' },
    { name: 'Lora', key: 'Lora', category: 'Serif' },
    { name: 'Merriweather', key: 'Merriweather', category: 'Serif' },
    { name: 'Crimson Text', key: 'CrimsonText', category: 'Serif' },
    { name: 'Abril Fatface', key: 'AbrilFatface', category: 'Serif' },
    { name: 'Cinzel', key: 'Cinzel', category: 'Serif' },
    { name: 'Montserrat', key: 'Montserrat', category: 'Sans-serif' },
    { name: 'Poppins', key: 'Poppins', category: 'Sans-serif' },
    { name: 'Roboto', key: 'Roboto', category: 'Sans-serif' },
    { name: 'Raleway', key: 'Raleway', category: 'Sans-serif' },
    { name: 'Lato', key: 'Lato', category: 'Sans-serif' },
    { name: 'Sora', key: 'Sora', category: 'Sans-serif' },
    { name: 'Quicksand', key: 'Quicksand', category: 'Sans-serif' },
    { name: 'Oswald', key: 'Oswald', category: 'Sans-serif' },
    { name: 'Space Mono', key: 'SpaceMono', category: 'Monospace' },
    { name: 'Russo One', key: 'RussoOne', category: 'Sans-serif' },
    { name: 'Righteous', key: 'Righteous', category: 'Sans-serif' },
    { name: 'Dancing Script', key: 'DancingScript', category: 'Handwriting' },
    { name: 'Satisfy', key: 'Satisfy', category: 'Handwriting' },
    { name: 'Pacifico', key: 'Pacifico', category: 'Handwriting' },
    { name: 'Caveat', key: 'Caveat', category: 'Handwriting' },
    { name: 'Fredoka', key: 'Fredoka', category: 'Sans-serif' },
    { name: 'Dm Serif Display', key: 'DmSerif', category: 'Serif' },
    { name: 'Unbounded', key: 'Unbounded', category: 'Sans-serif' }
];

function getFontFamily(f) {
    const fonts = {
        'Playfair': "'Playfair Display', serif",
        'Cormorant': "'Cormorant Garamond', serif",
        'Lora': "'Lora', serif",
        'Merriweather': "'Merriweather', serif",
        'CrimsonText': "'Crimson Text', serif",
        'AbrilFatface': "'Abril Fatface', serif",
        'Cinzel': "'Cinzel', serif",
        'Montserrat': "'Montserrat', sans-serif",
        'Poppins': "'Poppins', sans-serif",
        'Roboto': "'Roboto', sans-serif",
        'Raleway': "'Raleway', sans-serif",
        'Lato': "'Lato', sans-serif",
        'Sora': "'Sora', sans-serif",
        'Quicksand': "'Quicksand', sans-serif",
        'Oswald': "'Oswald', sans-serif",
        'SpaceMono': "'Space Mono', monospace",
        'RussoOne': "'Russo One', sans-serif",
        'Righteous': "'Righteous', sans-serif",
        'DancingScript': "'Dancing Script', cursive",
        'Satisfy': "'Satisfy', cursive",
        'Pacifico': "'Pacifico', cursive",
        'Caveat': "'Caveat', cursive",
        'Fredoka': "'Fredoka', sans-serif",
        'DmSerif': "'Dm Serif Display', serif",
        'Unbounded': "'Unbounded', sans-serif"
    };
    return fonts[f] || fonts['Playfair'];
}
